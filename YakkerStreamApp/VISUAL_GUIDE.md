# Yakker Stream Menu Bar App - Visual Guide

## Menu Bar Icon

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ   ğŸ“   ğŸ”   âš¾ï¸ âœ“   ğŸ”‹   ğŸ“¶   ğŸ• Mon 2:30 PM        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†‘
              Click here to open
```

## Popover Interface (400Ã—600 pixels)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                          â”‚
â”‚           âš¾ï¸ Yakker Stream               â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Settings                                â”‚
â”‚                                          â”‚
â”‚  Yakker Domain:                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ angelosubb.yakkertech.com          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚  Authorization Key:                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Basic d2VidWk...                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Connection Status:        â— Connected   â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚       ğŸ›‘  Stop Stream              â”‚  â”‚
â”‚  â”‚         (red button)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Live Metrics                            â”‚
â”‚                                          â”‚
â”‚  Exit Velocity     87.9  mph             â”‚
â”‚  Launch Angle      30.3  Â°               â”‚
â”‚  Pitch Velocity    44.7  mph             â”‚
â”‚  Spin Rate         1031  rpm             â”‚
â”‚  Hit Distance      287   ft              â”‚
â”‚  Hang Time         3.6   sec             â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚          Web Interface                   â”‚
â”‚       http://localhost:8000              â”‚
â”‚         (clickable link)                 â”‚
â”‚                                          â”‚
â”‚              Quit                        â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Connection States

### 1. Disconnected
```
Menu Bar: âš¾ï¸ âœ—
Status: â— Disconnected (gray dot)
Button: [â–¶ï¸ Start Stream] (green)
Metrics: "Start the stream to view metrics"
```

### 2. Connecting
```
Menu Bar: âš¾ï¸ ...
Status: â— Connecting... (yellow dot)
Button: [ğŸ›‘ Stop Stream] (red, disabled)
Metrics: "Start the stream to view metrics"
```

### 3. Connected
```
Menu Bar: âš¾ï¸ âœ“
Status: â— Connected (green dot)
Button: [ğŸ›‘ Stop Stream] (red, active)
Metrics: Live values updating every second
```

### 4. Error
```
Menu Bar: âš¾ï¸ âš ï¸
Status: â— Error (red dot)
Error: "Connection error - check logs"
Button: [â–¶ï¸ Start Stream] (green)
Metrics: "--" for all values
```

## User Flow Diagram

```
Launch App
    â”‚
    â–¼
âš¾ï¸ âœ— appears in menu bar
    â”‚
    â–¼
Click menu bar icon
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Popover opens   â”‚
â”‚  Status: âœ—        â”‚
â”‚  Button: Start    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Click "Start Stream"
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                         â”‚
    â–¼                         â–¼
Status: âš¾ï¸ ...          Backend launches
Connecting...            yakker.sh --demo
    â”‚                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         âš¾ï¸ âœ“ Connected!
                  â”‚
                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Metrics auto-update    â”‚
    â”‚  Every 1 second via     â”‚
    â”‚  HTTP poll to backend   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                       â”‚
      â–¼                       â–¼
Click outside           Click "Stop Stream"
Popover closes          Backend terminates
(keeps running)         Status: âš¾ï¸ âœ—
      â”‚                       â”‚
      â”‚                       â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
            Click "Quit"
                  â”‚
                  â–¼
         App terminates
       Menu icon disappears
```

## Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Menu Bar App                      â”‚
â”‚                  (Swift/SwiftUI)                    â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  AppDelegate â”‚â”€â”€â”€â”€â”€â”€â”‚ YakkerStreamManager  â”‚   â”‚
â”‚  â”‚  (Menu Bar)  â”‚      â”‚   (Process Control)  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                          â”‚               â”‚
â”‚         â”‚                          â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                  â”‚               â”‚
â”‚  â”‚ ContentView â”‚                  â”‚               â”‚
â”‚  â”‚   (UI)      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                   â”‚
                  â”‚ Foundation.Processâ”‚ URLSession
                  â”‚ (Launch/Monitor)  â”‚ (HTTP Poll)
                  â”‚                   â”‚
                  â–¼                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚    yakker_stream.py Backend     â”‚
         â”‚         (Python/aiohttp)        â”‚
         â”‚                                 â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚ WebSocketâ”‚  â”‚ HTTP Serverâ”‚  â”‚
         â”‚  â”‚ to Yakkerâ”‚  â”‚ :8000      â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â”‚                                 â”‚
         â”‚  Endpoints:                     â”‚
         â”‚  â€¢ GET /                        â”‚
         â”‚  â€¢ GET /data.xml                â”‚
         â”‚  â€¢ GET /livedata.xml            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

```
YakkerTech Sensors
       â”‚
       â–¼
WebSocket Stream
       â”‚
       â–¼
Python Backend (yakker_stream.py)
  â€¢ Aggregates metrics
  â€¢ Smooths data (1-sec rolling avg)
  â€¢ Serves HTTP endpoints
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â–¼             â–¼             â–¼
    Browser    ProScoreboard   SwiftUI App
     :8000      livedata.xml    data.xml
   (HTML view)   (XML feed)    (polling)
                                   â”‚
                                   â–¼
                            Menu Bar Popover
                            (Live Metrics UI)
```

## File Structure

```
yakker-stream/
â”œâ”€â”€ yakker.sh              â† Launch script (used by app)
â”œâ”€â”€ yakker_stream.py       â† Python backend
â”œâ”€â”€ requirements.txt       â† Python dependencies
â”œâ”€â”€ README.md             â† Main documentation
â”‚
â””â”€â”€ YakkerStreamApp/      â† SwiftUI Menu Bar App
    â”œâ”€â”€ README.md         â† App-specific docs
    â”œâ”€â”€ UI_OVERVIEW.md    â† This file
    â”œâ”€â”€ build.sh          â† Build script
    â”œâ”€â”€ check-system.sh   â† System requirements checker
    â”‚
    â”œâ”€â”€ YakkerStreamApp.xcodeproj/
    â”‚   â””â”€â”€ project.pbxproj
    â”‚
    â””â”€â”€ YakkerStreamApp/  â† Source code
        â”œâ”€â”€ YakkerStreamAppApp.swift    â† Main app + menu bar
        â”œâ”€â”€ ContentView.swift            â† UI popover
        â”œâ”€â”€ YakkerStreamManager.swift    â† Backend controller
        â”œâ”€â”€ Info.plist                   â† App config
        â”œâ”€â”€ YakkerStreamApp.entitlements â† Permissions
        â””â”€â”€ Assets.xcassets/             â† Icons
```

## Key Features Checklist

- [âœ“] Menu bar app (no dock icon)
- [âœ“] Connection status indicator (âš¾ï¸ with symbols)
- [âœ“] Start/Stop button for stream control
- [âœ“] Live metrics display (6 metrics)
- [âœ“] Auto-updating metrics (1-second poll)
- [âœ“] Error handling and display
- [âœ“] Process monitoring
- [âœ“] Web interface quick link
- [âœ“] Clean shutdown on quit
- [âœ“] Transient popover (auto-dismiss)
