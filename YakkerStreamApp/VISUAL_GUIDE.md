# Yakker Stream App - Visual Guide

## Application Window

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                          â”‚
â”‚           âš¾ï¸ Yakker Stream               â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Settings    [? How to Get Credentials]  â”‚
â”‚                                          â”‚
â”‚  Yakker Domain:                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ yourdomain.yakkertech.com          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚  Authorization Key:                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Basic YOUR_AUTH_KEY_HERE           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Connection Status:        â— Connected   â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚       ğŸ›‘  Stop Stream              â”‚  â”‚
â”‚  â”‚         (red button)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Live Metrics                            â”‚
â”‚                                          â”‚
â”‚  Exit Velocity     87.9  mph             â”‚
â”‚  Launch Angle      30.3  Â°               â”‚
â”‚  Pitch Velocity    44.7  mph             â”‚
â”‚  Spin Rate         1031  rpm             â”‚
â”‚  Hit Distance      287   ft              â”‚
â”‚  Hang Time         3.6   sec             â”‚
â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚          Web Interface                   â”‚
â”‚       http://localhost:8000              â”‚
â”‚         (clickable link)                 â”‚
â”‚                                          â”‚
â”‚              Quit                        â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Connection States

### 1. Disconnected
```
Status: â— Disconnected (gray dot)
Button: [â–¶ï¸ Start Stream] (green)
Settings: Editable
Metrics: "Start the stream to view metrics"
```

### 2. Connecting
```
Status: â— Connecting... (yellow dot)
Button: [ğŸ›‘ Stop Stream] (red, disabled)
Settings: Locked (disabled)
Metrics: "Start the stream to view metrics"
```

### 3. Connected
```
Status: â— Connected (green dot)
Button: [ğŸ›‘ Stop Stream] (red, active)
Settings: Locked (disabled)
Metrics: Live values updating every second
```

### 4. Error
```
Status: â— Error (red dot)
Error: "Please configure your Yakker domain and authorization key"
Button: [â–¶ï¸ Start Stream] (green)
Settings: Editable
Metrics: "--" for all values
```

## User Flow Diagram

```
Launch App
    â”‚
    â–¼

## Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Menu Bar App                      â”‚
â”‚                  (Swift/SwiftUI)                    â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  AppDelegate â”‚â”€â”€â”€â”€â”€â”€â”‚ YakkerStreamManager  â”‚   â”‚
â”‚  â”‚  (Menu Bar)  â”‚      â”‚   (Process Control)  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                          â”‚               â”‚
â”‚         â”‚                          â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                  â”‚               â”‚
â”‚  â”‚ ContentView â”‚                  â”‚               â”‚
â”‚  â”‚   (UI)      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                   â”‚
                  â”‚ Foundation.Processâ”‚ URLSession
                  â”‚ (Launch/Monitor)  â”‚ (HTTP Poll)
                  â”‚                   â”‚
                  â–¼                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚    yakker_stream.py Backend     â”‚
         â”‚         (Python/aiohttp)        â”‚
         â”‚                                 â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚ WebSocketâ”‚  â”‚ HTTP Serverâ”‚  â”‚
         â”‚  â”‚ to Yakkerâ”‚  â”‚ :8000      â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â”‚                                 â”‚
         â”‚  Endpoints:                     â”‚
         â”‚  â€¢ GET /                        â”‚
         â”‚  â€¢ GET /data.xml                â”‚
         â”‚  â€¢ GET /livedata.xml            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

```
YakkerTech Sensors
       â”‚
       â–¼
WebSocket Stream
       â”‚
       â–¼
Python Backend (yakker_stream.py)
  â€¢ Aggregates metrics
  â€¢ Smooths data (1-sec rolling avg)
  â€¢ Serves HTTP endpoints
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â–¼             â–¼             â–¼
    Browser    ProScoreboard   SwiftUI App
     :8000      livedata.xml    data.xml
   (HTML view)   (XML feed)    (polling)
                                   â”‚
                                   â–¼
                            Menu Bar Popover
                            (Live Metrics UI)
```

## File Structure

```
yakker-stream/
â”œâ”€â”€ yakker.sh              â† Launch script (used by app)
â”œâ”€â”€ yakker_stream.py       â† Python backend
â”œâ”€â”€ requirements.txt       â† Python dependencies
â”œâ”€â”€ README.md             â† Main documentation
â”‚
â””â”€â”€ YakkerStreamApp/      â† SwiftUI Menu Bar App
    â”œâ”€â”€ README.md         â† App-specific docs
    â”œâ”€â”€ UI_OVERVIEW.md    â† This file
    â”œâ”€â”€ build.sh          â† Build script
    â”œâ”€â”€ check-system.sh   â† System requirements checker
    â”‚
    â”œâ”€â”€ YakkerStreamApp.xcodeproj/
    â”‚   â””â”€â”€ project.pbxproj
    â”‚
    â””â”€â”€ YakkerStreamApp/  â† Source code
        â”œâ”€â”€ YakkerStreamAppApp.swift    â† Main app + menu bar
        â”œâ”€â”€ ContentView.swift            â† UI popover
        â”œâ”€â”€ YakkerStreamManager.swift    â† Backend controller
        â”œâ”€â”€ Info.plist                   â† App config
        â”œâ”€â”€ YakkerStreamApp.entitlements â† Permissions
        â””â”€â”€ Assets.xcassets/             â† Icons
```

## Key Features Checklist

- [âœ“] Menu bar app (no dock icon)
- [âœ“] Connection status indicator (âš¾ï¸ with symbols)
- [âœ“] Start/Stop button for stream control
- [âœ“] Live metrics display (6 metrics)
- [âœ“] Auto-updating metrics (1-second poll)
- [âœ“] Error handling and display
- [âœ“] Process monitoring
- [âœ“] Web interface quick link
- [âœ“] Clean shutdown on quit
- [âœ“] Transient popover (auto-dismiss)
App window opens
    â”‚
    â–¼
Settings empty (first run)
    â”‚
    â–¼
Click "How to Get Credentials"
    â”‚
    â–¼
Read instructions
    â”‚
    â–¼
Enter domain and auth key
    â”‚
    â–¼
Click "Start Stream"
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                         â”‚
    â–¼                         â–¼
Status: Connecting...    Backend launches
Settings: Locked         with custom credentials
    â”‚                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         âœ“ Connected!
                  â”‚
                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Metrics auto-update    â”‚
    â”‚  Every 1 second via     â”‚
    â”‚  HTTP poll to backend   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
          Click "Stop Stream"
                  â”‚
                  â–¼
          Backend terminates
          Status: Disconnected
          Settings: Unlocked
                  â”‚
                  â–¼
            Click "Quit"
                  â”‚
                  â–¼
         App terminates
```
